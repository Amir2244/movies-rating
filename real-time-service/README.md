# Real-Time Recommendation Service

## Overview
The Real-Time Recommendation Service is a core component of the Movies Rating application that processes user interaction events in real-time and generates personalized movie recommendations. It leverages vector similarity search to find movies similar to a user's preferences based on their interaction history.

## Features
- Real-time processing of user interaction events (views, ratings, likes, etc.)
- Vector similarity search using Redis for fast recommendation generation
- Event weight-based recommendation scoring
- Notification of recommendations to users

## Architecture
The service follows a hexagonal (ports and adapters) architecture:

### Domain Layer
- `InteractionEvent`: Core domain model representing user interactions with movies

### Application Layer
- `RealTimeRecommendationService`: Core application service that orchestrates the recommendation flow
- Input Ports:
  - `ProcessInteractionEventUseCase`: Interface for processing user interaction events
- Output Ports:
  - `UserFactorPort`: Interface for retrieving user factors
  - `VectorSearchPort`: Interface for performing vector similarity search
  - `RecommendationNotifierPort`: Interface for notifying users of recommendations

### Adapters Layer
- Input Adapters:
  - Kafka consumers (for receiving interaction events)
- Output Adapters:
  - `RedisVectorSearchAdapter`: Implements vector search using Redis
  - `LoggingNotifierAdapter`: Simple implementation that logs recommendations

## Dependencies
- Redis with RediSearch module for vector similarity search
- Kafka for event streaming
- Shared Kernel for common models and utilities

## Configuration
The service can be configured through environment variables or configuration files. Key configuration parameters include:
- Redis connection settings
- Kafka connection settings
- Number of recommendations to generate

## Running the Service
The service can be run as a standalone application or as part of the Docker Compose setup:

```bash
# Run with Docker Compose
docker-compose up -d real-time-service

# Run standalone (after building)
java -jar target/real-time-service.jar
```

## Integration with Other Services
- Consumes user interaction events from Kafka topics
- Uses user factors generated by the Batch Processing Service
- Provides recommendations to the Recommendations API

## Development
To build the service:

```bash
# Build the shared-kernel first
cd ../shared-kernel
mvn clean install

# Build the real-time-service
cd ../real-time-service
mvn clean package
```

## Testing
The service includes unit tests and integration tests. To run the tests:

```bash
mvn test
```